import{u as e,j as s,L as a,o as t}from"./index-DYXxwEwQ.js";import{a as r}from"./vendor-react-C-vLCHr5.js";import"./vendor-redux-BO4apGfR.js";import"./vendor-ui-B90iy1hF.js";import"./vendor-utils-C_-n9PHV.js";function l(){const{formatCurrency:l}=e(),[d,n]=r.useState([]),[c,i]=r.useState(!0),[o,x]=r.useState(null),[m,p]=r.useState(!1),h=()=>{x(null),p(!1)};return r.useEffect(()=>{(async()=>{n(t),i(!1)})()},[]),c?s.jsx(a,{}):s.jsxs(s.Fragment,{children:[s.jsxs("h1",{className:"text-2xl text-slate-500 mb-5",children:["Store ",s.jsx("span",{className:"text-slate-800 font-medium",children:"Orders"})]}),0===d.length?s.jsx("p",{children:"No orders found"}):s.jsx("div",{className:"overflow-x-auto max-w-4xl rounded-md shadow border border-gray-200",children:s.jsxs("table",{className:"w-full text-sm text-left text-gray-600",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-700 text-xs uppercase tracking-wider",children:s.jsx("tr",{children:["Sr. No.","Customer","Total","Payment","Coupon","Status","Date"].map((e,a)=>s.jsx("th",{className:"px-4 py-3",children:e},a))})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:d.map((e,a)=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>(e=>{x(e),p(!0)})(e),children:[s.jsx("td",{className:"pl-6 text-green-600",children:a+1}),s.jsx("td",{className:"px-4 py-3",children:e.user?.name}),s.jsxs("td",{className:"px-4 py-3 font-medium text-slate-800",children:["$",e.total]}),s.jsx("td",{className:"px-4 py-3",children:e.paymentMethod}),s.jsx("td",{className:"px-4 py-3",children:e.isCouponUsed?s.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full",children:e.coupon?.code}):"â€”"}),s.jsx("td",{className:"px-4 py-3",onClick:e=>{e.stopPropagation()},children:s.jsxs("select",{value:e.status,onChange:s=>(async()=>{})(e.id,s.target.value),className:"border-gray-300 rounded-md text-sm focus:ring focus:ring-blue-200",children:[s.jsx("option",{value:"ORDER_PLACED",children:"ORDER_PLACED"}),s.jsx("option",{value:"PROCESSING",children:"PROCESSING"}),s.jsx("option",{value:"SHIPPED",children:"SHIPPED"}),s.jsx("option",{value:"DELIVERED",children:"DELIVERED"})]})}),s.jsx("td",{className:"px-4 py-3 text-gray-500",children:new Date(e.createdAt).toLocaleString()})]},e.id))})]})}),m&&o&&s.jsx("div",{onClick:h,className:"fixed inset-0 flex items-center justify-center bg-black/50 text-slate-700 text-sm backdrop-blur-xs z-50",children:s.jsxs("div",{onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg shadow-lg max-w-2xl w-full p-6 relative",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4 text-center",children:"Order Details"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Customer Details"}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-700",children:"Name:"})," ",o.user?.name]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-700",children:"Email:"})," ",o.user?.email]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-700",children:"Phone:"})," ",o.address?.phone]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-700",children:"Address:"})," ",`${o.address?.street}, ${o.address?.city}, ${o.address?.state}, ${o.address?.zip}, ${o.address?.country}`]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Products"}),s.jsx("div",{className:"space-y-2",children:o.orderItems.map((e,a)=>s.jsxs("div",{className:"flex items-center gap-4 border border-slate-100 shadow rounded p-2",children:[s.jsx("img",{src:e.product.images?.[0].src||e.product.images?.[0],alt:e.product?.name,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-slate-800",children:e.product?.name}),s.jsxs("p",{children:["Qty: ",e.quantity]}),s.jsxs("p",{children:["Price: ",l(e.price)]})]})]},a))})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-green-700",children:"Payment Method:"})," ",o.paymentMethod]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-700",children:"Paid:"})," ",o.isPaid?"Yes":"No"]}),o.isCouponUsed&&s.jsxs("p",{children:[s.jsx("span",{className:"text-green-700",children:"Coupon:"})," ",o.coupon.code," (",o.coupon.discount,"% off)"]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-700",children:"Status:"})," ",o.status]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-green-700",children:"Order Date:"})," ",new Date(o.createdAt).toLocaleString()]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:h,className:"px-4 py-2 bg-slate-200 rounded hover:bg-slate-300",children:"Close"})})]})})]})}export{l as default};
